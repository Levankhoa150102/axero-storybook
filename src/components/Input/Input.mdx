import { Canvas, Meta, Story } from '@storybook/blocks';
import * as InputStories from './Input.stories';

<Meta of={InputStories} />

# Input Component

A versatile and accessible form control component that adapts to different use cases. It can render as a single-line input, multi-line textarea, or input with an integrated button. The component includes built-in validation states, real-time character counting, and follows accessibility best practices.

## Examples

### Basic Input

The simplest form of the Input component with just a label and placeholder.

<Canvas of={InputStories.Default} />

### No Label Input (Expandable)

An expandable input field without a label that automatically grows as you type, perfect for inline forms, social media posts, or comment boxes.

<Canvas of={InputStories.NoLabel} />

**Key Features:**
- **Auto-expanding**: Automatically expands to multiple lines as content grows
- **Contenteditable**: Uses `contenteditable="true"` div instead of traditional input
- **Smart placeholder**: Shows/hides placeholder based on actual content
- **Form compatibility**: Includes hidden input for form submission

### Required Field

Input with required field validation and visual indicator (red asterisk).

<Canvas of={InputStories.Required} />

**Key Props:** `required={true}` - Adds required field validation and visual indicator

### Error State

Input with validation error state and custom error message.

<Canvas of={InputStories.WithError} />

**Key Props:** 
- `error={true}` - Enables error state styling
- `errorMessage="Custom error text"` - Displays custom error message below input

### Textarea Mode

Multi-line text input with description text and character counting.

<Canvas of={InputStories.AsTextarea} />

**Key Props:**
- `as="textarea"` - Renders as textarea instead of input
- `rows={4}` - Number of visible text lines
- `description="Helper text"` - Descriptive text below label
- `showCharacterCount={true}` - Displays real-time character count

### Input with Character Count

Single-line input with real-time character counting display.

<Canvas of={InputStories.WithCharacterCount} />

**Key Props:** 
- `showCharacterCount={true}` - Enables character count display in top-right corner

### Input with Button

Input field combined with an action button in a layout.

<Canvas of={InputStories.WithButton} />

**Key Props:**
- `withButton={true}` - Enables button integration mode
- `buttonText="Action"` - Text displayed on button
- `onButtonClick={function}` - Click handler for button
- `buttonType="button|submit"` - Button type attribute

### Input with Inline Button

Input field with a submit button positioned inside the input area, perfect for actions like "Invite", "Send", or "Submit".

<Canvas of={InputStories.InlineButton} />

**Key Props:**
- `buttonText="Invite"` - Text displayed on the inline submit button
- `onButtonClick={function}` - Click handler for the submit button
- `placeholder="Enter email address..."` - Input placeholder text

**HTML Structure:**
```html
<div class="input-wrapper">
  <input type="submit" class="input-submit-button" value="Invite" />
  <div class="input-text-container">
    <input type="text" class="input input--with-submit" />
  </div>
</div>
```

**Key Features:**
- **Visual Integration**: Submit button appears inside the text input field
- **Semantic Structure**: Uses `<input type="submit">` for proper form semantics
- **Responsive Design**: Text input adjusts with right padding for button space
- **Hover States**: Button includes proper hover and active state styling

**Use Cases:**
- Email invitation forms
- Newsletter signup forms
- Quick action inputs
- Search with submit functionality
- Contact forms with immediate actions

### Input with Tags

Interactive input field with integrated tags functionality. Users can add tags by typing and pressing Enter, or by selecting from a dropdown of available tags. Tags can be removed individually in edit mode.

<Canvas of={InputStories.WithTags} />

**Key Props:**
- `tags={[]}` - Array of current tags
- `onTagsChange={function}` - Callback when tags array changes
- `availableTags={[]}` - Array of tags available in dropdown
- `showDropdown={true}` - Whether to show the dropdown button
- `placeholder="Enter tags..."` - Input placeholder text
- `disabled={false}` - Whether the input is disabled
- `error={false}` - Whether the input has an error state
- `required={false}` - Whether the field is required

### Availability Check

Interactive input field with real-time availability checking. Perfect for validating space names, usernames, or any unique identifiers against existing data.

<Canvas of={InputStories.AvailabilityCheck} />

**Key Props:**
- `isChecking={true}` - Shows checking status message
- `checkingMessage="checking availability..."` - Message displayed during validation
- `isSuccess={true}` - Shows success status when available
- `successMessage="space name is available"` - Success message for available names

### Input with Adornments

Enhanced input field with prefix and/or suffix elements, including FontAwesome icon support and click handlers. Perfect for search inputs, currency fields, units, domains, or any contextual indicators.

<Canvas of={InputStories.WithAdornments} />

**Key Props:**
- `prefix` - Text, icon, or React element displayed before the input
- `suffix` - Text, icon, or React element displayed after the input
- `onPrefixClick` - Click handler function for prefix element
- `onSuffixClick` - Click handler function for suffix element
- `iconClassName` - FontAwesome icon class (e.g., 'fas fa-search')
- `iconSize={16}` - Icon size in pixels (10-24px range)
- `iconPosition="prefix|suffix"` - Position of icon when using iconClassName
- `backgroundColor` - Background color for icon elements

**Icon Integration:**
When `iconClassName` is provided, the component automatically creates an Icon element and positions it according to `iconPosition`. This works alongside manual prefix/suffix props for maximum flexibility.

**Click Handlers:**
Prefix and suffix elements become interactive buttons when click handlers are provided, with proper accessibility features including focus states and cursor styling.

### Input with Filter and Select All

A filterable, scrollable recipient list with checkboxes and a "select all" option. Useful for multi-select dropdowns, recipient pickers, and advanced filtering UIs.

<Canvas of={InputStories.WithFilter} />

**Key Features:**
- Filter input for live searching
- Checkbox next to input to select/deselect all filtered items
- Scrollable list with avatars and checkboxes
- BEM-style CSS classes for easy customization

## CSS Classes Reference

### Base Classes
- `.input-wrapper` - Main container for all input variants
- `.input` - Base input/textarea styling
- `.input-label` - Primary label text styling

### Modifier Classes
- `.input--error` - Error state styling (red border and focus states)
- `.input--disabled` - Disabled state styling (muted colors, no interaction)
- `.input--no-label` - Special styling for inputs without labels
- `.input--expandable` - Auto-expanding contenteditable input styling
- `.input--placeholder` - Placeholder state for expandable inputs
- `.input--with-submit` - Text input with right padding for inline submit button
- `.input--with-adornments` - Input styling with prefix/suffix adornments

### Message Classes
- `.input-error` - Error message text styling (red)
- `.input-checking` - Checking status message styling (gray)
- `.input-success` - Success message text styling (green)
- `.input-character-count` - Character counter display styling

### Layout Classes
- `.input-button-container` - Flex container for input+button layout
- `.input-field-container` - Input field container (70% width)
- `.button-container` - Button container (30% width)
- `.input-inline-outer` - Container for inline submit button layout
- `.input-text-container` - Text input container for inline button structure
- `.input-submit-button` - Inline submit button positioned inside input field
- `.input-prefix` - Prefix element styling (e.g., currency symbol)
- `.input-suffix` - Suffix element styling (e.g., unit, icon)

### Special Features
- `.input-required` - Red asterisk indicator for required fields
- `.input-description` - Helper/description text styling
