import React from 'react';
import { fn } from '@storybook/test';
import { Table } from './Table.jsx';

export default {
  title: 'UI Components/Table',
  component: Table,
  parameters: {
    layout: 'padded',
  },
};

const sampleUsers = [
  {
    id: 1,
    name: 'John Doe',
    email: 'john.doe@example.com',
    role: 'Admin',
    status: 'Active',
    lastLogin: '2024-03-15',
    posts: 42
  },
  {
    id: 2,
    name: 'Jane Smith',
    email: 'jane.smith@example.com',
    role: 'Editor',
    status: 'Active',
    lastLogin: '2024-03-14',
    posts: 28
  },
  {
    id: 3,
    name: 'Mike Johnson',
    email: 'mike.johnson@example.com',
    role: 'Author',
    status: 'Inactive',
    lastLogin: '2024-03-10',
    posts: 15
  },
  {
    id: 4,
    name: 'Sarah Wilson',
    email: 'sarah.wilson@example.com',
    role: 'Editor',
    status: 'Active',
    lastLogin: '2024-03-16',
    posts: 33
  },
  {
    id: 5,
    name: 'David Brown',
    email: 'david.brown@example.com',
    role: 'Author',
    status: 'Active',
    lastLogin: '2024-03-13',
    posts: 19
  }
];

const basicColumns = [
  {
    key: 'name',
    title: 'Name',
    sortable: true
  },
  {
    key: 'email',
    title: 'Email',
    sortable: true
  },
  {
    key: 'role',
    title: 'Role',
    sortable: true
  },
  {
    key: 'status',
    title: 'Status',
    align: 'center'
  }
];

export const Default = {
  args: {
    columns: basicColumns,
    data: sampleUsers,
    showHeader: true,
    headerActions: [
      {
        key: 'add',
        label: 'Add New',
        variant: 'primary'
      }
    ],
    onRowSelect: fn(),
    onSort: fn(),
    onRowAction: fn(),
    onHeaderAction: fn(),
  },
};

export const WithSelection = {
  args: {
    ...Default.args,
    selectable: true,
    striped: true,
  },
};

export const EmptyState = {
  args: {
    columns: basicColumns,
    data: [],
    showHeader: true,
  },
};

export const WithoutHeader = {
  args: {
    columns: basicColumns,
    data: sampleUsers.slice(0, 3),
    showHeader: false,
    striped: true,
  },
};

export const AlignmentExample = {
  args: {
    columns: [
      {
        key: 'name',
        title: 'Name (Left)',
        align: 'left',
        sortable: true
      },
      {
        key: 'posts',
        title: 'Posts (Center)',
        align: 'center',
        sortable: true
      },
      {
        key: 'lastLogin',
        title: 'Last Login (Right)',
        align: 'right',
        sortable: true
      },
      {
        key: 'status',
        title: 'Status (Center)',
        align: 'center',
        render: (value) => (
          <span className={`status-badge status-badge--${value.toLowerCase()}`}>
            {value}
          </span>
        )
      }
    ],
    data: sampleUsers,
    showHeader: true,
    striped: true,
    hoverable: true,
    headerActions: [
      {
        key: 'info',
        label: 'Alignment Demo',
        variant: 'secondary'
      }
    ],
    onRowSelect: fn(),
    onSort: fn(),
    onRowAction: fn(),
    onHeaderAction: fn(),
  },
};
